---
title: "Debugging and Profiling"
permalink: /developers/inkstitch/debug/
last_modified_at: 2024-01-12
toc: true
---
## DEBUG.ini

To enable debugging or profiling copy `DEBUG_template.ini` to `DEBUG.ini` and edit it

## Create bash script for offline debugging from console

* in `DEBUG.ini` set `create_bash_script = True`
* call `inkstitch.py` extension from inkscape to create bash script named by `bash_file_base` in `DEBUG.ini`
* run bash script from console

## Enable debugging:

* set `debug_type` to one of - `vscode`, `pycharm`, `pydev`
    * debug_type = vscode - 'debugpy' for vscode editor
    * debug_type = pycharm - 'pydevd-pycharm' for pycharm editor
    * debug_type = pydev - 'pydevd' for eclipse editor

* set `debug_enable = True` in `DEBUG.ini`
    * or use command line argument `-d` in bash script
    * or set environment variable `INKSTITCH_DEBUG_ENABLE = True` or 1 or yes or y

## Enable profiling:

* set `profiler_type` to one of - `cprofile`, `profile`, `pyinstrument`
    * profiler_type = cprofile - 'cProfile' profiler
    * profiler_type = profile - 'profile' profiler
    * profiler_type = pyinstrument - 'pyinstrument' profiler

* set `profile_enable = True` in `DEBUG.ini`
    * or use command line argument `-p` in bash script
    * or set environment variable `INKSTITCH_PROFILE_ENABLE = True` or 1 or yes or y

## Miscelaneous notes:

* to disable debugger when running from inkscape set `disable_from_inkscape = True` in `DEBUG.ini`
* to write debug output to file set `debug_to_file = True` in `DEBUG.ini`
* to change various output file names see `DEBUG.ini`
* to disable waiting for debugger to attach (vscode editor) set `wait_attach = False` in `DEBUG.ini`
* to prefer inkscape version of inkex module over pip version set `prefer_pip_inkex = False` in `DEBUG.ini`

## Examples

### Debugging with LiClipse

1. Install LiClipse ([https://liclipse.com](https://liclipse.com)) -- no need to install Eclipse first
2. Start debug server as described here: [http://www.pydev.org/manual_adv_remote_debugger.html](http://www.pydev.org/manual_adv_remote_debugger.html)
    * follow the "Note:" to enable the debug server menu item
3. Enable debug as descriped above using pydev
4. Run any extension and PyDev will start debugging.

Furthermore it will generate SVG files for debugging.

### Profiling with Profile

Enable profiling as described above using profile.
Ink/Stitch will then run under a profiler and dump the result to profile_stats.
It will tell you what functions take how long to run.

Install snakeviz with `pip install snakeviz`.

Open the statistics with `snakeviz profile_stats.prof`.
This will display a really useful interactive graph in your browser.
